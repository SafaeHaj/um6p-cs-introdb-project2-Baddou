mysql> SELECT    *FROM    Checks c JOIN    Flight f ON f.fid = c.fid and c.fid in (SELECT fid FROM Flight WHERE f.arrivalTime > '2024-07-09' or f.departureTime < '2024-06-09' or f.destination LIKE '% Harbor %')JOIN    User_ u ON c.email = u.uemail;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'Flight f ON f.fid = c.fid and c.fid in (SELECT fid FROM Flight WHERE f.arrivalTi' at line 1
mysql> SELECT  * FROM Checks c JOIN Flight f ON f.fid = c.fid and c.fid in (SELECT fid FROM Flight WHERE f.arrivalTime > '2024-07-09' or f.departureTime < '2024-06-09' or f.destination LIKE '% Harbor %') JOIN User_ u ON c.email = u.uemail;
1153942 rows in set (17.50 sec)

mysql> CREATE INDEX idx_Flight_at ON Flight (arrivalTime);CREATE INDEX idx_Flight_dp ON Flight (departureTime);CREATE INDEX idx_Flight_dest ON Flight (destination);
Query OK, 20000 rows affected (0.29 sec)
Records: 20000  Duplicates: 0  Warnings: 0

Query OK, 20000 rows affected (0.29 sec)
Records: 20000  Duplicates: 0  Warnings: 0

Query OK, 20000 rows affected (0.32 sec)
Records: 20000  Duplicates: 0  Warnings: 0

mysql> SELECT  * FROM Checks c JOIN Flight f ON f.fid = c.fid and c.fid in (SELECT fid FROM Flight WHERE f.arrivalTime > '2024-07-09' or f.departureTime < '2024-06-09' or f.destination LIKE '% Harbor %') JOIN User_ u ON c.email = u.uemail;
1153942 rows in set (16.05 sec)

mysql> EXPLAIN ANALYZE SELECT  * FROM Checks c JOIN Flight f ON f.fid = c.fid and c.fid in (SELECT fid FROM Flight WHERE f.arrivalTime > '2024-07-09' or f.departureTime < '2024-06-09' or f.destination LIKE '% Harbor %') JOIN User_ u ON c.email = u.uemail;
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| EXPLAIN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| -> Nested loop inner join  (cost=1277871.71 rows=761116) (actual time=0.100..16492.424 rows=1153942 loops=1)
    -> Nested loop inner join  (cost=1011481.05 rows=761116) (actual time=0.095..12208.043 rows=1153942 loops=1)
        -> Nested loop inner join  (cost=571088.65 rows=1258264) (actual time=0.048..1233.059 rows=1258264 loops=1)
            -> Covering index scan on c using PRIMARY  (cost=130696.25 rows=1258264) (actual time=0.011..636.209 rows=1258264 loops=1)
            -> Single-row index lookup on u using PRIMARY (uemail=c.email)  (cost=0.25 rows=1) (actual time=0.000..0.000 rows=1 loops=1258264)
        -> Filter: ((f.arrivalTime > TIMESTAMP'2024-07-09 00:00:00') or (f.departureTime < TIMESTAMP'2024-06-09 00:00:00') or (f.destination like '% Harbor %'))  (cost=0.25 rows=1) (actual time=0.008..0.009 rows=1 loops=1258264)
            -> Single-row index lookup on f using PRIMARY (fid=c.fid)  (cost=0.25 rows=1) (actual time=0.008..0.008 rows=1 loops=1258264)
    -> Single-row covering index lookup on Flight using PRIMARY (fid=c.fid)  (cost=0.25 rows=1) (actual time=0.003..0.004 rows=1 loops=1153942)
 |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (17.10 sec)

mysql> CREATE INDEX idx_Flight_at ON Flight (arrivalTime);CREATE INDEX idx_Flight_dp ON Flight (departureTime);CREATE INDEX idx_Flight_dest ON Flight (destination);
Query OK, 20000 rows affected (0.28 sec)
Records: 20000  Duplicates: 0  Warnings: 0

Query OK, 20000 rows affected (0.28 sec)
Records: 20000  Duplicates: 0  Warnings: 0

Query OK, 20000 rows affected (0.32 sec)
Records: 20000  Duplicates: 0  Warnings: 0

mysql> EXPLAIN ANALYZE SELECT c.email, c.fid, f.arrivalTime,  f.departureTime, f.destination FROM Checks c JOIN Flight f ON f.fid = c.fid and c.fid in (SELECT fid FROM Flight WHERE f.arrivalTime > '2024-07-09' or f.departureTime < '2024-06-09' or f.destination LIKE '% Harbor %') JOIN User_ u ON c.email = u.uemail;
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| EXPLAIN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| -> Nested loop inner join  (cost=1277871.71 rows=761116) (actual time=0.088..16119.961 rows=1153942 loops=1)
    -> Nested loop inner join  (cost=1011481.05 rows=761116) (actual time=0.084..11863.046 rows=1153942 loops=1)
        -> Nested loop inner join  (cost=571088.65 rows=1258264) (actual time=0.020..1181.963 rows=1258264 loops=1)
            -> Covering index scan on c using PRIMARY  (cost=130696.25 rows=1258264) (actual time=0.009..619.066 rows=1258264 loops=1)
            -> Single-row covering index lookup on u using PRIMARY (uemail=c.email)  (cost=0.25 rows=1) (actual time=0.000..0.000 rows=1 loops=1258264)
        -> Filter: ((f.arrivalTime > TIMESTAMP'2024-07-09 00:00:00') or (f.departureTime < TIMESTAMP'2024-06-09 00:00:00') or (f.destination like '% Harbor %'))  (cost=0.25 rows=1) (actual time=0.008..0.008 rows=1 loops=1258264)
            -> Single-row index lookup on f using PRIMARY (fid=c.fid)  (cost=0.25 rows=1) (actual time=0.008..0.008 rows=1 loops=1258264)
    -> Single-row covering index lookup on Flight using PRIMARY (fid=c.fid)  (cost=0.25 rows=1) (actual time=0.003..0.004 rows=1 loops=1153942)
 |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (16.41 sec)

mysql> DROP INDEX idx_Flight_at ON flight;
Query OK, 20000 rows affected (0.30 sec)
Records: 20000  Duplicates: 0  Warnings: 0

mysql> DROP INDEX idx_Flight_dp ON flight;
Query OK, 20000 rows affected (0.30 sec)
Records: 20000  Duplicates: 0  Warnings: 0

mysql> DROP INDEX idx_Flight_dest ON flight;
Query OK, 20000 rows affected (0.28 sec)
Records: 20000  Duplicates: 0  Warnings: 0

